<section class="ug-hero color-{{ section.settings.color_scheme }}" aria-label="Hero">
  <div class="ug-hero__slider">
    {% for block in section.blocks %}
      {% if block.type == 'slide' and block.settings.image != blank %}
        <div class="ug-hero__slide" {{ block.shopify_attributes }}>
          <div class="ug-hero__media">
            <img src="{{ block.settings.image | image_url: width: 1600 }}" alt="{{ block.settings.heading | default: block.settings.image.alt | escape }}" width="1600" loading="eager">
          </div>
          <div class="ug-hero__content">
            <div class="page-width">
              {% if block.settings.subheading != blank %}<p class="ug-hero__subheading">{{ block.settings.subheading }}</p>{% endif %}
              {% if block.settings.heading != blank %}<h1 class="ug-hero__heading">{{ block.settings.heading }}</h1>{% endif %}
              {% if block.settings.text != blank %}<p class="ug-hero__text">{{ block.settings.text }}</p>{% endif %}
              {% if block.settings.button_label != blank and block.settings.link != blank %}
                <a href="{{ block.settings.link }}" class="ug-btn ug-btn--primary">{{ block.settings.button_label }}</a>
              {% endif %}
            </div>
          </div>
        </div>
      {% endif %}
    {% endfor %}
  </div>
  {% if section.blocks.size == 0 %}
    <div class="ug-hero__slide">
      <div class="ug-hero__content page-width">
        <h1 class="ug-hero__heading">{{ section.settings.fallback_heading }}</h1>
        <a href="{{ routes.all_products_collection_url }}" class="ug-btn ug-btn--primary">{{ section.settings.fallback_button }}</a>
      </div>
    </div>
  {% endif %}
</section>

{% schema %}
{
  "name": "Hero",
  "blocks": [
    {
      "type": "slide",
      "name": "Slide",
      "settings": [
        { "type": "image_picker", "id": "image", "label": "Image" },
        { "type": "text", "id": "heading", "label": "Heading" },
        { "type": "text", "id": "subheading", "label": "Subheading" },
        { "type": "textarea", "id": "text", "label": "Text" },
        { "type": "text", "id": "button_label", "label": "Button label" },
        { "type": "url", "id": "link", "label": "Button link" }
      ]
    }
  ],
  "settings": [
    { "type": "text", "id": "fallback_heading", "label": "Fallback heading (no blocks)", "default": "Welcome to our store" },
    { "type": "text", "id": "fallback_button", "label": "Fallback button", "default": "Shop now" },
    { "type": "select", "id": "color_scheme", "options": [
      { "value": "background-1", "label": "Background 1" },
      { "value": "background-2", "label": "Background 2" }
    ], "default": "background-1", "label": "Color scheme" }
  ],
  "presets": [{ "name": "Hero", "blocks": [{ "type": "slide" }] }]
}
{% endschema %}
